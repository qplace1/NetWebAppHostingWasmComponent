@page "/counter"
@inject IJSRuntime JSRuntime

<PageTitle>Counter</PageTitle>
<WasmFileEditor.FileEditor></WasmFileEditor.FileEditor>
<h1>Counter</h1>
<script>
    window.logToConsole = (message) => {
        console.log(message);
    };
</script>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;
    private bool _hasLogged = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && !_hasLogged)
        {
            await JSRuntime.InvokeVoidAsync("logToConsole", "Component initialized: Logging from OnAfterRenderAsync.");
            _hasLogged = true; 
        }
    }

    private void IncrementCount()
    {
        currentCount++;
    }
}
